<div class="flyntComponent componentSpacing {{ options.theme }}" is="flynt-block-map-embed">
  <div class="container centerMaxWidthContainer">
    <div class="contentWrapper centerContentMaxWidth">
      <div class="content">
        {{ contentHtml|e('wp_kses_post') }}
      </div>
      {% if gmaps %}
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAAw7_dT-EL15DkqRQg_TnGDml0nab-yIo&callback=initMap" defer></script>
    <script type="text/javascript"> 

    // Initialize and add the map
    function initMap() {
        // The location of Uluru
        const uluru = { lat: {{gmaps.lat}}, lng: {{gmaps.lng}} };
        // The map, centered at Uluru
        const map = new google.maps.Map(document.getElementById("myMap"), {
            zoom: 14,
            center: uluru,
            styles: [
              {
                featureType: "poi.business",
                stylers: [{ visibility: "off" }],
              }
            ],
        });
        // The marker, positioned at Uluru
        const marker = new google.maps.Marker({
            position: uluru,
            map: map,
            title: "The Sitzmark Lodge Vail, Colorado",
        });

        const contentString = '<div style="font-weight:bold;font-size:16px;padding:10px;">{{gmaps.address}}</div>' + '<div style="font-weight:bold;font-size:16px;padding:10px;">{{markerInfo}}</div>';
            
        const infowindow = new google.maps.InfoWindow({
            content: contentString,
        });
        
        marker.addListener("click", () => {
            infowindow.open(map, marker);
        });
    
    }

    </script>
{% endif %}
    </div>
  </div>
  <div id="myMap" class="acf-map" style="width:100%; height:500px;"></div>
</div>

